<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE defines SYSTEM "http://sdocsml.googlecode.com/dtd/1.0a/sdocmldefs.dtd">

<defines>
    <def m="sdocml"><e n="tt"><d>SDocML</d></e></def>
    
    <incdef url="accent.xml"/>
    <incdef url="syms.xml"/>
    <!-- Accent tables: Hat, bar and not --> 

    <!-- NOTE: Accents can be produced using combining characters, but the HTML backend does not support this yet. 
         The accenting macros use combining characters; the dictionary lookup expands to nothing but will only succeed if 
         the character was listed in then "accentable" list (accent.xml).
         Combining characters are defined in Unicode 0x0300-0x036f.
      -->
    <def m="hat" n="1">
      <desc>This operator accepts exactly one char of the ones listed in accents.xml</desc>
      <e n="mo"><d><lookup>accentable-{{0}}</lookup>{{0}}&#x0302;</d></e>
    </def>
    <def m="bar" n="1"><e n="mo"><d><lookup>accentable-{{0}}</lookup>{{0}}&#x0304;</d></e></def>

    <!-- An anchor generated with \index or \dindex contains no ID, and thus cannot be referred. -->

    <def m="index"  n="1">
      <desc>
        Define an index entry. The standard TeX syntax is allowed, but it is
        not processed by the frontend --- it will be up to the backend to
        interpret it. The expected TeX syntax is: a "!" separated list of keys,
        where each key is either a string "XYZ" defining the sort-key and the index entry, or a
        "XYZ@QWE" where "XYZ" is the sort-key and "QWE" is the index entry. The
        sort-key should never contain XML elements.
      </desc>
      <e n="a"><attr n="class">index</attr><d>{{0}}</d></e>
    </def>
    <def m="label"  n="1">
      <desc>Create a link target without a default link text as a point in the text.</desc>
      <e n="a">
        <attr n="class">label</attr>
        <attr n="id">{{0}}</attr>
      </e>
    </def>
    <def m="xlabel" n="2">
      <desc>Create a link target and use the second argument as default link text.</desc>
      <e n="a">
        <attr n="class">label</attr>
        <attr n="id">{{0}}</attr>
        <d>{{1}}</d>
      </e>
    </def>

    <def m="ref"   n="1">
      <desc>Generic reference to an ID within the expanded document. The target node is expected to provide link text. </desc>
      <e n="ref"> <attr n="ref">{{0}}</attr></e>
    </def>
    <def m="fref"  n="1">
      <desc>The same as a "ref", but it put paranthesis around the text. </desc>
      <d>(</d><e n="ref"> <attr n="ref">{{0}}</attr><attr n="class">fref</attr></e><d>)</d>
    </def> 
    <def m="reft"  n="2">
      <desc>The same as a "ref", but the second argument is used as link text.</desc>
      <e n="ref"> <attr n="ref">{{0}}</attr><d>{{1}}</d></e>
    </def>
    <def m="href"  n="1">
      <desc>Define a hyperlink to an external resource and use the link itself as link text. </desc>
      <e n="href"><attr n="url">{{0}}</attr></e>
    </def>
    <def m="url"  n="1"> 
      <desc>Alias for \href. </desc>
      <e n="href"><attr n="url">{{0}}</attr><d>{{0}}</d></e>
    </def>
     <def m="hreft" n="2">
      <desc>Define a hyperlink to an external resource and use the second argument as link text. </desc>
      <e n="href"><attr n="url">{{0}}</attr><d>{{1}}</d></e>
    </def>

    <def m="cite"  n="1">
      <desc>Define a bibliography link to an unresolved source. The external resource identifier is fixed to "bibdb", and the class is "cite". </desc>
      <e n="ref"><attr n="class">cite</attr><attr n="type">cite</attr><attr n="ref">{{0}}</attr></e>
    </def>

    <def m="tt"   n="1"><e n="tt"><d>{{0}}</d></e></def> <!-- Typed text-->
    <def m="it"   n="1"><e n="it"><d>{{0}}</d></e></def> <!-- Italic -->
    <def m="em"   n="1"><e n="em"><d>{{0}}</d></e></def> <!-- Emphasized -->
    <def m="emph" n="1"><e n="em"><d>{{0}}</d></e></def> <!-- Emphasized -->
    <def m="bf"   n="1"><e n="bf"><d>{{0}}</d></e></def> <!-- Bold face -->
    <def m="sc"   n="1"><e n="sc"><d>{{0}}</d></e></def> <!-- Small Caps -->

    <def m="texttt" n="1"><e n="tt"><d>{{0}}</d></e></def>
    <def m="br"><e n="br"/></def>


    <!-- Math fonts -->
    <def m="mathcal"  n="1"><e n="mfont"><attr n="family">mathcal</attr><d>{{0}}</d></e></def>
    <def m="mathfrac" n="1"><e n="mfont"><attr n="family">mathfrac</attr><d>{{0}}</d></e></def>
    <def m="mathbb"   n="1"><e n="mfont"><attr n="family">mathbb</attr><d>{{0}}</d></e></def>
    <def m="mathtt"   n="1"><e n="mfont"><attr n="family">mathtt</attr><d>{{0}}</d></e></def>
    <def m="mbox"     n="1"><e n="mtext"><d>{{0}}</d></e></def>

    <!-- Math macros-->
    <def m="frac" n="2"> <e n="mfrac"> <e n="mrow"> <d>{{0}}</d> </e> <e n="mrow"> <d>{{1}}</d> </e></e> </def>
    <def m="sqrt" n="1"> <e n="msqrt"> <e n="mrow"> <d>{{0}}</d> </e> </e></def>

    <def m="sum" superscript-arg="yes" subscript-arg="yes">
      <e n="msubsup">
        <e n="mrow"><e n="mo"><attr n="op">sum</attr></e></e>
        <e n="mrow"><d>{{SUBSCRIPT}}</d></e>
        <e n="mrow"><d>{{SUPERSCRIPT}}</d></e>
      </e>
    </def>
    
    <def m="int" superscript-arg="yes" subscript-arg="yes">
      <e n="msubsup">
        <e n="mrow"><e n="mo"><attr n="op">int</attr></e></e>
        <e n="mrow"><d>{{SUBSCRIPT}}</d></e>
        <e n="mrow"><d>{{SUPERSCRIPT}}</d></e>
      </e>
    </def>

    <def m="limits"> <e n="mo"><attr n="op">limits</attr></e></def>
    <!-- <def m="notin">  <e n="mo"><d>&notin;</d></e></def> --> <!-- REPLACED BY \not{\in} -->
    <def m="norm" n="1"><e n="mfenced"><attr n="open">&Vert;</attr><attr n="close">&Vert;</attr><d>{{0}}</d></e></def>
          
    <defenv m="braces"><e n="mfenced"><attr n="open">{</attr><attr n="close">}</attr><d>{{BODY}}</d></e></defenv>
    <defenv m="backets"><e n="mfenced"><attr n="open">[</attr><attr n="close">]</attr><d>{{BODY}}</d></e></defenv>
    <defenv m="parens"><e n="mfenced"><attr n="open">(</attr><attr n="close">)</attr><d>{{BODY}}</d></e></defenv>
    <defenv m="leftbrace"><e n="mfenced"><attr n="open">{</attr><attr n="close"></attr><d>{{BODY}}</d></e></defenv>
  
   

    <!-- Some simple environments -->
    <defenv m="itemize">
      <desc>Itemize list. Use the \item{text} macro to add list items. </desc>
      <e n="ilist">
        <attr n="class">itemize</attr>
        <d>{{BODY}}</d>
      </e>
    </defenv>
    <def m="item" n="1"><e n="li"><d>{{0}}</d></e></def>
    
    <defenv m="enumerate">
      <desc>Enumerated list. Use the \item{text} macro to add list items. </desc>
      <e n="ilist"><attr n="class">enumerate</attr><d>{{BODY}}</d></e>
    </defenv>
    
    <defenv m="description">
      <desc>Definition list. Use the \ditem{label}{text} macro to add list items. </desc>
      <e n="dlist"><d>{{BODY}}</d></e>
    </defenv>
    <def m="ditem" n="2">
      <e n="dt"><d>{{0}}</d></e>
      <e n="dd"><d>{{1}}</d></e>
    </def>

    <defenv m="figure">
      <e n="float">
        <attr n="class">figure</attr>
        <d>{{BODY}}</d>
      </e>
    </defenv>
</defines>
    
